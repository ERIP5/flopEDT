{% extends "flopeditor/base.html" %}
{% block meta %}
{{ block.super }}

{% endblock %}

{% block content %}

<div class="row h-100 justify-content-center align-items-center text-center text-white">
    <div class="col-12">
        <h1 class="display-1 mb-4"><strong>Flop Editor</strong></h1>
        <p class="lead mb-4">
            Choix du département à éditer :
        </p>
        <div class="department-list row">
          {% for dept in departements %}
            <div class="col-12 mb-3">
              <a href="{% url 'flopeditor:flopeditor-department-default' department=dept.abbrev %}" style="min-width: 200px;" type="button" class="btn btn-raised btn-secondary">{{ dept.name }}</a>
            </div>
          {% endfor %}
        </div>

        {% if request.user.is_superuser %}
        <p class="lead">
            Vous pouvez aussi créer un nouveau département <button type="button" class="btn btn-secondary bmd-btn-fab bmd-btn-fab-sm mt-1" data-toggle="modal" data-target="#modal-create-department">ici</button>
        </p>
        {% endif %}

    </div>
</div>
{% endblock %}

{% block modal %}
{% if request.user.is_superuser %}
<div class="modal fade text-black" id="modal-create-department" tabindex="-1" role="dialog" aria-labelledby="modal-create-department" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Créer un département</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <form class="ml-4 mr-4">
            <div class="form-inline">
              <label for="inputNomDep" class="col-form-label col-sm-4">Nom</label>
              <input type="text" class="form-control col-sm-8" id="inputNomDep" placeholder="Exemple: Informatique">
            </div>
            <div class="form-inline">
              <label for="inputAbbrev" class="col-form-label col-sm-4">Abréviation</label>
              <input type="text" class="form-control col-sm-8" id="inputAbbrev" placeholder="Exemple: INFO">
            </div>
            <div class="form-inline">
              <label for="inputAdmin" class="col-form-label col-sm-4">Administrateur</label>
              <select class="form-control col-sm-8" id="inputAdmin">
                {% for admin in admins %}
                  <option>{{ admin.last_name }} {{ admin.first_name }}</option>
                {% endfor %}
              </select>
            </div>


          </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary mr-2" data-dismiss="modal">Annuler</button>
        <button type="button" class="btn btn-raised btn-info">Créer</button>
      </div>
    </div>
  </div>
</div>
{% endif %}
{% endblock %}
