{% extends "flopeditor/base.html" %}
{% load static %}
{% block nav-classes-groups %} active {% endblock %}
{% block content %}

groups
{% csrf_token %}





<div class="card">
    
    <div class="card-body tab-content">
      <div id="rooms" class="tab-pane fade show active" role="tabpanel">
        <crud-js url="{% url 'flopeditor:flopeditor-crud-student-group-type' department_abbrev=department.abbrev %}" save-button="btntest" editable>
          <loading>
            <h1 class="text-info"><i class="fas fa-spinner fa-pulse"></i></h1>
          </loading>
        </crud-js>
        <button type="button" name="button" id="btntest" class="btn btn-raised btn-success ">Save</button>
      </div>

      <div id="room-groups" class="tab-pane fade" role="tabpanel">groups</div>

      <div id="room-types" class="tab-pane fade" role="tabpanel">types</div>

    </div>
</div>


{% endblock %}



{% block script %}


{{ block.super }}
<script src="{% static 'flopeditor/js/crudjs.min.js' %}" charset="utf-8"></script>

<script>
        $.ajax({
            type: "GET",
            url: "{% url 'flopeditor:flopeditor-crud-student-group-type' department_abbrev=department.abbrev %}",
            success: function(response) {
                console.log(response)
            },
            error: function(error) {
                console.log(error)
            },
        });
      </script>
      <script>
          $.ajax({
              type: "POST",
              headers: {
                "X-CSRFToken": $("[name=csrfmiddlewaretoken]").val()
              },
              data: JSON.stringify({
                "actions": [
                {
                  "request": "NEW",
                  "new_values": [["pl"], [], [""], ["jr"]]
                },{
                  "request": "MODIFIED",
                  "old_values": [["U3 02"],["CE"]],
                  "new_values": [["U3-089"],["U3-coucou"]]
                }
              ]}),
              url: "{% url 'flopeditor:flopeditor-crud-student-group-type' department_abbrev=department.abbrev %}",
              success: function(response) {
                  console.log(response)
              },
              error: function(error) {
                  console.log(error)
              },
          });
      </script>

{% endblock %}
